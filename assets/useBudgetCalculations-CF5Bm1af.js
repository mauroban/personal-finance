import{r as v,n as h}from"./index-DjoC8Tjb.js";const A=(g,i,m,o,d)=>{const M=v.useMemo(()=>{const c=g.filter(r=>h(r.date,o,d)),f=c.filter(r=>r.type==="earning").reduce((r,n)=>r+n.value,0),e=c.filter(r=>r.type==="expense").reduce((r,n)=>r+n.value,0),l=i.filter(r=>r.year===o&&r.month===d&&r.type==="income").reduce((r,n)=>r+n.amount,0),p=i.filter(r=>r.year===o&&r.month===d&&r.type==="expense").reduce((r,n)=>r+n.amount,0);return{totalIncome:f,totalExpense:e,budgetedIncome:l,budgetedExpense:p,netBalance:f-e}},[g,i,o,d]),S=v.useMemo(()=>{const c=g.filter(e=>h(e.date,o,d)&&e.type==="expense");return m.filter(e=>!e.parentId).map(e=>{const l=m.filter(u=>u.parentId===e.id).map(u=>u.id),p=i.filter(u=>u.year===o&&u.month===d&&u.type==="expense"&&(u.groupId===e.id||u.subgroupId&&l.includes(u.subgroupId))).reduce((u,I)=>u+I.amount,0),r=c.filter(u=>u.groupId===e.id||u.subgroupId&&l.includes(u.subgroupId)).reduce((u,I)=>u+I.value,0),n=p-r,x=p>0?r/p*100:0;return{groupId:e.id,groupName:e.name,budgeted:p,actual:r,remaining:n,percentage:x}}).filter(e=>e.budgeted>0||e.actual>0)},[g,i,m,o,d]),B=v.useMemo(()=>{const c=g.filter(e=>h(e.date,o,d)&&e.type==="expense");return m.filter(e=>!e.parentId).map(e=>{const l=m.filter(t=>t.parentId===e.id),p=l.map(t=>t.id),r=i.filter(t=>t.year===o&&t.month===d&&t.type==="expense"&&(t.groupId===e.id||t.subgroupId&&p.includes(t.subgroupId))).reduce((t,a)=>t+a.amount,0),n=c.filter(t=>t.groupId===e.id||t.subgroupId&&p.includes(t.subgroupId)).reduce((t,a)=>t+a.value,0),x=r-n,u=r>0?n/r*100:0,I=l.map(t=>{const a=i.filter(s=>s.year===o&&s.month===d&&s.type==="expense"&&s.subgroupId===t.id).reduce((s,y)=>s+y.amount,0),C=c.filter(s=>s.subgroupId===t.id).reduce((s,y)=>s+y.value,0),E=a-C,N=a>0?C/a*100:0;return{subgroupId:t.id,subgroupName:t.name,budgeted:a,actual:C,remaining:E,percentage:N}}).filter(t=>t.budgeted>0||t.actual>0);return{groupId:e.id,groupName:e.name,budgeted:r,actual:n,remaining:x,percentage:u,subcategories:I}}).filter(e=>e.budgeted>0||e.actual>0)},[g,i,m,o,d]);return{monthSummary:M,groupSummaries:S,groupSummariesWithSubcategories:B}};export{A as u};
