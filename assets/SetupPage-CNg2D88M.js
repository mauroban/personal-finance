import{u as D,r,j as e,B as v,A as I,i as R,l as q,k as u}from"./index-DjoC8Tjb.js";import{P as V}from"./PageContainer-Dpv9AWI-.js";import{M as F,I as O,C as w}from"./ConfirmModal-D_6NAvxK.js";import"./useMediaQuery-BhwLU3FH.js";const W=()=>{const{categories:n,addCategory:h,deleteCategory:f}=D(),[p,c]=r.useState(!1),[i,d]=r.useState(""),[l,g]=r.useState(),[t,b]=r.useState({isOpen:!1,id:null}),o=n.filter(s=>!s.parentId),m=s=>n.filter(x=>x.parentId===s),C=r.useCallback(async()=>{i.trim()&&(await h({name:i.trim(),parentId:l}),d(""),g(void 0),c(!1))},[i,l,h]),y=r.useCallback(s=>{b({isOpen:!0,id:s})},[]),k=r.useCallback(async()=>{t.id&&(await f(t.id),b({isOpen:!1,id:null}))},[t.id,f]),N=r.useCallback(()=>{c(!1)},[]),S=r.useCallback(()=>{b({isOpen:!1,id:null})},[]);return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-600 dark:bg-purple-500 rounded-lg flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:"Categorias de Despesas"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Organize suas despesas em categorias e subcategorias"})]})]}),e.jsx(v,{onClick:()=>c(!0),className:"w-full sm:w-auto flex-shrink-0",children:"+ Adicionar"})]}),e.jsxs("div",{className:"space-y-3",children:[o.map(s=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-lg",children:s.name}),e.jsx(v,{variant:"danger",size:"sm",onClick:()=>y(s.id),"aria-label":`Excluir categoria ${s.name}`,children:"Excluir"})]}),m(s.id).length>0&&e.jsx("div",{className:"pl-4 space-y-2 border-l-2 border-gray-300 dark:border-gray-600",children:m(s.id).map(x=>e.jsxs("div",{className:"flex justify-between items-center py-1.5 px-3 bg-white dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors border border-gray-200 dark:border-gray-600",children:[e.jsxs("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:["‚Ä¢ ",x.name]}),e.jsx("button",{onClick:()=>y(x.id),className:"px-2 py-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 text-xs font-semibold rounded hover:bg-red-100 dark:hover:bg-red-900/20 transition-colors","aria-label":`Excluir subcategoria ${x.name}`,children:"Excluir"})]},x.id))})]},s.id)),o.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mb-3",children:e.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium mb-1",children:"Nenhuma categoria cadastrada"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Adicione sua primeira categoria para come√ßar!"})]})]}),e.jsx(F,{isOpen:p,onClose:N,title:"Adicionar Categoria",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(O,{label:"Nome da Categoria (Grupo Principal)",value:i,onChange:s=>d(s.target.value),placeholder:"Ex: Moradia, Transporte"}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Ou adicionar subcategoria:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:l||"",onChange:s=>{const x=s.target.value;g(x?parseInt(x):void 0),x&&d("")},children:[e.jsx("option",{value:"",children:"Selecione uma categoria principal"}),o.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),l&&e.jsx(O,{placeholder:"Nome da subcategoria",value:i,onChange:s=>d(s.target.value)})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(v,{variant:"secondary",onClick:N,children:"Cancelar"}),e.jsx(v,{onClick:C,disabled:!i.trim(),children:"Adicionar"})]})]})}),e.jsx(w,{isOpen:t.isOpen,onClose:S,onConfirm:k,title:"Excluir Categoria",message:"Tem certeza que deseja excluir esta categoria? Esta a√ß√£o n√£o pode ser desfeita.",confirmText:"Excluir",cancelText:"Cancelar",variant:"danger"})]})},P=()=>{const{sources:n,addSource:h,deleteSource:f}=D(),[p,c]=r.useState(!1),[i,d]=r.useState(""),[l,g]=r.useState({isOpen:!1,id:null}),t=async()=>{i.trim()&&(await h({name:i.trim()}),d(""),c(!1))},b=m=>{g({isOpen:!0,id:m})},o=async()=>{l.id&&(await f(l.id),g({isOpen:!1,id:null}))};return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-600 dark:bg-green-500 rounded-lg flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:"Fontes de Renda"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Gerencie suas fontes de receita"})]})]}),e.jsx(v,{onClick:()=>c(!0),className:"w-full sm:w-auto flex-shrink-0",children:"+ Adicionar"})]}),e.jsxs("div",{className:"space-y-2",children:[n.map(m=>e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600 rounded-lg hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:e.jsx("svg",{className:"w-5 h-5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-gray-900 dark:text-white font-semibold",children:m.name})]}),e.jsx(v,{variant:"danger",size:"sm",onClick:()=>b(m.id),"aria-label":`Excluir fonte de renda ${m.name}`,children:"Excluir"})]},m.id)),n.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mb-3",children:e.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium mb-1",children:"Nenhuma fonte de renda cadastrada"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Adicione sua primeira fonte para come√ßar!"})]})]}),e.jsx(F,{isOpen:p,onClose:()=>c(!1),title:"Adicionar Fonte de Renda",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(O,{label:"Nome da Fonte de Renda",value:i,onChange:m=>d(m.target.value),placeholder:"Ex: Sal√°rio, Freelance, Investimentos"}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(v,{variant:"secondary",onClick:()=>c(!1),children:"Cancelar"}),e.jsx(v,{onClick:t,disabled:!i.trim(),children:"Adicionar"})]})]})}),e.jsx(w,{isOpen:l.isOpen,onClose:()=>g({isOpen:!1,id:null}),onConfirm:o,title:"Excluir Fonte de Renda",message:"Tem certeza que deseja excluir esta fonte de renda? Esta a√ß√£o n√£o pode ser desfeita.",confirmText:"Excluir",cancelText:"Cancelar",variant:"danger"})]})},U=()=>{const[n,h]=r.useState(!1),[f,p]=r.useState(!1),[c,i]=r.useState(!1),[d,l]=r.useState({isOpen:!1,variant:"success",message:""}),g=()=>{p(!0)},t=()=>{p(!1),i(!0)},b=async()=>{i(!1);try{h(!0),await R(),l({isOpen:!0,variant:"success",message:"Banco de dados resetado com sucesso! A p√°gina ser√° recarregada."}),setTimeout(()=>{window.location.reload()},2e3)}catch(o){l({isOpen:!0,variant:"error",message:"Erro ao resetar banco de dados. Tente novamente."}),q.error("Failed to reset database from UI",{error:o})}finally{h(!1)}};return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border-2 border-red-200 dark:border-red-800 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-red-600 dark:bg-red-500 rounded-lg flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:"Zona de Perigo"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Resetar o banco de dados ir√° apagar todos os dados e restaurar as configura√ß√µes padr√£o. Esta a√ß√£o n√£o pode ser desfeita!"})]})]}),e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200 font-semibold",children:"‚ö†Ô∏è Aviso: Todos os dados (transa√ß√µes, or√ßamentos, categorias e fontes) ser√£o perdidos permanentemente."})}),e.jsx(v,{variant:"danger",onClick:g,disabled:n,children:n?"Resetando...":"üóëÔ∏è Resetar Banco de Dados"}),e.jsx(w,{isOpen:f,onClose:()=>p(!1),onConfirm:t,title:"‚ö†Ô∏è ATEN√á√ÉO",message:"Esta a√ß√£o ir√° apagar TODOS os dados do aplicativo (transa√ß√µes, or√ßamentos, categorias e fontes personalizadas) e restaurar as configura√ß√µes padr√£o. Tem certeza que deseja continuar?",confirmText:"Continuar",cancelText:"Cancelar",variant:"warning"}),e.jsx(w,{isOpen:c,onClose:()=>i(!1),onConfirm:b,title:"√öltima Confirma√ß√£o",message:"Esta √© sua √∫ltima chance! Todos os dados ser√£o perdidos permanentemente. Confirmar reset do banco de dados?",confirmText:"Sim, Resetar Tudo",cancelText:"Cancelar",variant:"danger"}),e.jsx(I,{isOpen:d.isOpen,onClose:()=>l({...d,isOpen:!1}),title:d.variant==="success"?"Sucesso":"Erro",message:d.message,variant:d.variant})]})},$=()=>e.jsx("div",{className:"bg-amber-50 border-2 border-amber-400 rounded-lg p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0 text-2xl",children:"‚ö†Ô∏è"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-amber-900 mb-2",children:"Importante: Seus Dados S√£o Locais"}),e.jsxs("p",{className:"text-sm text-amber-800 mb-2",children:["Todos os seus dados ficam ",e.jsx("strong",{children:"armazenados apenas no seu dispositivo"})," (navegador). N√£o h√° sincroniza√ß√£o na nuvem ou servidores externos."]}),e.jsxs("p",{className:"text-sm text-amber-800 font-medium",children:["‚ö° ",e.jsx("strong",{children:"Fa√ßa backups regulares!"})," Use o bot√£o ",e.jsx("strong",{children:'"Exportar"'})," no menu superior para salvar seus dados. Sem backup, voc√™ pode perder tudo se:"]}),e.jsxs("ul",{className:"text-sm text-amber-800 mt-2 ml-6 list-disc space-y-1",children:[e.jsx("li",{children:"Limpar os dados do navegador"}),e.jsx("li",{children:"Trocar de dispositivo ou computador"}),e.jsx("li",{children:"Reinstalar o navegador ou sistema operacional"}),e.jsx("li",{children:"O navegador atualizar e perder dados locais"})]})]})]})}),G=()=>{const[n,h]=r.useState(null),[f,p]=r.useState(!1),[c,i]=r.useState(!1),[d,l]=r.useState([]),[g,t]=r.useState(null),[b,o]=r.useState(null),[m,C]=r.useState(!0);r.useEffect(()=>{y(),C(u.isSupported())},[]);const y=async()=>{try{const a=await u.getConfig();if(h(a),a!=null&&a.enabled){const j=u.getAvailableBackups();l(j)}}catch(a){console.error("Failed to load config:",a)}},k=async()=>{p(!0),t(null),o(null);try{await u.setupSyncFile(),await y(),o("‚úÖ Sync configurado! Seus dados ser√£o salvos automaticamente neste arquivo."),await u.initialize()}catch(a){t(a.message)}finally{p(!1)}},N=async()=>{if(confirm("Desconectar sync? Voc√™ precisar√° configurar novamente."))try{await u.disconnect(),h(null),l([]),o("Sync desconectado")}catch(a){t(a.message)}},S=async()=>{if(n)try{const a=!n.autoSyncEnabled;await u.saveConfig({autoSyncEnabled:a}),await y(),o(a?"Auto-sync ativado":"Auto-sync desativado")}catch(a){t(a.message)}},s=async()=>{i(!0),t(null),o(null);try{await u.manualSync(),await y(),o("‚úÖ Dados salvos com sucesso!")}catch(a){t(a.message)}finally{i(!1)}},x=async()=>{if(confirm("Carregar dados do arquivo? Isso substituir√° todos os dados atuais.")){t(null),o(null);try{await u.loadFromFile(),o("‚úÖ Dados carregados! Recarregue a p√°gina para ver as mudan√ßas.")}catch(a){t(a.message)}}},B=async()=>{try{await u.downloadBackup(),o("‚úÖ Backup baixado!")}catch(a){t(a.message)}},M=async a=>{var E;const j=(E=a.target.files)==null?void 0:E[0];if(j){if(!confirm("Importar este backup? Todos os dados atuais ser√£o substitu√≠dos.")){a.target.value="";return}try{await u.uploadBackup(j),o("‚úÖ Backup restaurado! Recarregue a p√°gina."),a.target.value=""}catch(z){t(z.message),a.target.value=""}}},L=async a=>{if(confirm("Restaurar este backup? Todos os dados atuais ser√£o substitu√≠dos."))try{await u.restoreFromBackup(a),o("‚úÖ Backup restaurado! Recarregue a p√°gina.")}catch(j){t(j.message)}},A=a=>new Date(a).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),T=a=>a<1024?a+" B":a<1024*1024?(a/1024).toFixed(1)+" KB":(a/(1024*1024)).toFixed(1)+" MB";return m?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Sync de Arquivos"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Salve automaticamente em um arquivo (Google Drive, Dropbox, OneDrive, etc.)"})]}),e.jsx("div",{className:"text-4xl",children:"üíæ"})]}),g&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg text-sm text-red-700 dark:text-red-400",children:g}),b&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg text-sm text-green-700 dark:text-green-400",children:b}),n!=null&&n.enabled?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-green-900 dark:text-green-100",children:"Sync Ativo"}),e.jsxs("div",{className:"text-xs text-green-700 dark:text-green-300",children:["Arquivo: ",n.fileName]})]})]}),e.jsx("button",{onClick:N,className:"text-sm text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 font-medium",children:"Desconectar"})]})}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Auto-sync"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Salvar automaticamente a cada mudan√ßa"})]}),e.jsx("button",{onClick:S,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n.autoSyncEnabled?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.autoSyncEnabled?"translate-x-6":"translate-x-1"}`})})]}),n.lastSyncTime>0&&e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["√öltimo sync: ",A(n.lastSyncTime)]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx("button",{onClick:s,disabled:c,className:"px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Salvando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),"Salvar Agora"]})}),e.jsxs("button",{onClick:x,className:"px-4 py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Carregar do Arquivo"]})]}),d.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:["Backups Autom√°ticos (",d.length,")"]}),e.jsx("div",{className:"space-y-2",children:d.slice(0,5).map((a,j)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:j===0?"üìå Mais recente":`üïê Backup ${j}`}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:[A(a.timestamp)," ‚Ä¢ ",T(a.size)]})]}),e.jsx("button",{onClick:()=>L(a.key),className:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:"Restaurar"})]},a.key))})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsx("button",{onClick:k,className:"text-sm text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:"üìÅ Mudar arquivo de sync"})})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-gray-400 dark:text-gray-500 mb-2",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Sync n√£o configurado"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6 max-w-md mx-auto",children:"Configure uma vez e seus dados ser√£o salvos automaticamente. Escolha um arquivo na sua pasta do Google Drive, Dropbox, ou OneDrive para sync autom√°tico entre dispositivos."})]}),e.jsx("button",{onClick:k,disabled:f,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 mx-auto",children:f?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Configurando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Escolher Arquivo de Sync"]})}),e.jsxs("div",{className:"mt-6 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("p",{className:"mb-1",children:"‚úì Salva automaticamente a cada 5 segundos"}),e.jsx("p",{className:"mb-1",children:"‚úì Mant√©m 5 backups autom√°ticos"}),e.jsx("p",{className:"mb-1",children:"‚úì Funciona com Google Drive, Dropbox, OneDrive"}),e.jsx("p",{children:"‚úì Sem necessidade de API keys ou cadastros"})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Ou use backup manual:"}),e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx("button",{onClick:B,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors text-sm",children:"üì• Baixar Backup"}),e.jsxs("label",{className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors cursor-pointer text-sm inline-flex items-center",children:["üì§ Carregar Backup",e.jsx("input",{type:"file",accept:".json",onChange:M,className:"hidden"})]})]})]})]})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Sync de Arquivos"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Sincronize automaticamente com um arquivo local"})]})}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-2xl",children:"‚ö†Ô∏è"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-yellow-900 dark:text-yellow-100 mb-2",children:"Navegador n√£o suportado"}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mb-4",children:"Seu navegador n√£o suporta o File System Access API. Use Chrome, Edge, ou Opera para sync autom√°tico."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:B,className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm",children:"üì• Baixar Backup (JSON)"}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"sr-only",children:"Importar backup"}),e.jsx("input",{type:"file",accept:".json",onChange:M,className:`block w-full text-sm text-gray-600 dark:text-gray-400
                      file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0
                      file:text-sm file:font-medium file:bg-green-600 file:text-white
                      hover:file:bg-green-700 file:cursor-pointer cursor-pointer`})]})]})]})]})})]})},Q=()=>e.jsx(V,{title:"Configura√ß√£o",description:"Configure suas categorias de despesas e fontes de renda",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx($,{}),e.jsx(G,{}),e.jsx(W,{}),e.jsx(P,{}),e.jsx(U,{})]})});export{Q as SetupPage};
